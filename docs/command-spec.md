# コマンド仕様書   
**version**: 0.1  
**status**: Draft  
**Author**: connor252

---

## 1. 目的

本仕様書は、音声認識によってテキスト化された入力文を、  
「キャラ操作コマンド」として解釈し、処理（実行/返答）に落とすためのルールを定義する。

v1では、実機を使わず **PC上でのデモ実行**（モニター演出）を対象とする。

---

## 2. State Model(状態)

本プロジェクトは複数キャラを扱うが、基本方針として **同時にアクティブにするのは1体**とする。

---

## 3. コマンド種別

### 3.1 Public
- **挨拶 / 反応**：おはよう、ただいま、おやすみ など
- **デバイス操作**：電気つけて/消して、色変えて、明るく/暗く など
- **システム応答**：ヘルプ、未対応案内 など

### 3.2 Private
- **デバイス操作**：
- **演出**：セリフ、テーマカラー、モーション/表情
- 

---

## 4. 入力フォーマット

### 基本 : 「キャラ名 + コマンド」
最優先の基本操作。

例:  
- 「スライム 電気をつけて」
- 「スライム ライトを〇〇色にして」
- 「スライム 電気OFF」

区切り：  
- 空白 / 「、」 / 句読点は等価として扱う（解析前に正規化する）

### 単一 : 「コマンド」
キャラ名が含まれない、一単語で成立するコマンド。

例:  
- 「おはよう」
- 「ただいま」
- 「おやすみ」

---

## 5. 解析ルール


---

## 6. エラー処理

---

## 7. v2/v3(予定)

- **v2 : 実機・AWS連携**
  - Raspberry Pi / LED / センサー等の実機ドライバ追加
  - AWS（IoT Core / Lambda など）との接続
  - スマホアプリでの基本操作

- **v3 : 運用(長時間,整理,制限)**
  - 長時間稼働を前提にした整理（ログ、再起動、安定化）
  - コマンドや機能の見直し（増やすより「使うものだけ」に制限）
  - キャラ演出強化（モーション、反応、固有性の拡張）
